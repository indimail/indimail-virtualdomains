.\" vim: tw=75
.TH qmailmrtg 1
.SH NAME
qmailmrtg \- log indimail statistics to MRTG 

.SH SYNOPSYS
\fBqmailmrtg\fR \fIoptions\fR \fIlogdir\fR [ \fIservicedir\fR ]

.SH DESCRIPTION
\fBqmailmrtg\fR(1) reads multilog output files in \fIlogdir\fR and prints
output suitable for Multi Router Traffic Gropher \fBMRTG\fR(1). If the
optional \fIservicedir\fR is given, \fBqmailmrtg\fR prints the uptime for
the \fBsupervise\fR(1) service configured in that directory.

\fBqmailmrtg\fR was written by Inter7 using the standard C library. This
version of \fBqmailmrtg\fR has been re-written using libqmail, a library of
general purpose APIs extracted from Dan Bernstein's qmail, reimplemented
and covered by the GNU General Public License Version.

Take a look at @sysconfdir@/indimail.mrtg.cfg for usage examples.
indimail.mrtg.cfg expects \fBqmailmrtg\fR to be in @libexecdir@ directory.

.SH OPTIONS
.TP 3
\fB\-D\fR
Turn on debugging

.TP 3
\fB\-t\fR
print current and configured concurrency for \fBtcpserver\fR(1)

.TP 3
\fB\-a\fR
print allowed and denied connections by \fBtcpserver\fR(1)

.TP 3
\fB\-s\fR
print success and failure rate per hour from \fBqmail-send\fR(8) mail
delivery log.

.TP 3
\fB\-m\fR
print success and attempt rate per hour from \fBqmail-send\fR(8) mail
delivery log. An attempt is calculated as the sum of successful attempt and
a deferred attempt.

.TP 3
\fB\-c\fR
print remote and local delivery concurrency from \fBqmail-send\fR(8) mail
delivery log.

.TP 3
\fB\-b\fR
print bits transferred from \fBqmail-send\fR(8) mail delivery log.

.TP 3
\fB\-q\fR
print total messages in queue and total unprocessed messages in queue
@indimaildir@/queue.

.TP 3
\fB\-Q\fR
print total local messages in queue and total remote messages in queue
@indimaildir@/queue.

.TP 3
\fB\-l\fR
This option counts the number of lines of all files in \fIdir\fR and prints
the hourly rate lines per hour.

.TP 3
\fB\-u\fR
print total unsubscriptions per hour.

.TP 3
\fB\-v\fR
print total pages viewed and total pages clicked.

.TP 3
\fB\-S\fR
print total ham and total spam messages delivered.

.TP 3
\fB\-C\fR
print  messages found to have virus and messages that failed to be scanned.

.TP 3
\fB\-d\fR
print cached and total requests.

.SH SEE ALSO
mrtg(1),
snmpd(8),
supervise(8),
multilog(8),
tcpserver(8),
qmail-send(8),
slowq-send(8),
qmta-send(8),
inlookup(8)
